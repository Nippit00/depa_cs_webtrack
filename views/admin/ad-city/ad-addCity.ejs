<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>City Data Form</title>
    <!-- Include Tailwind CSS -->
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <link
      href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
      rel="stylesheet"
    />
  </head>
  <body class="bg-gray-100">
    <%- include('../include/ad-navbar.ejs') %>
    <div class="container mx-auto py-8">
      <h2 class="text-2xl font-bold mb-4">City Data Form</h2>
      <form action="/admin/postAddCity" method="POST" class="max-w-md mx-auto">
        <div class="mb-4">
          <label for="cityID" class="block mb-2">City ID:</label>
          <input
            type="text"
            id="cityID"
            name="cityID"
            class="w-full px-3 py-2 border rounded-md"
            required
          />
        </div>

        <div class="mb-4">
          <label for="province" class="block mb-2">Province:</label>
          <input
            type="text"
            id="province"
            name="province"
            class="w-full px-3 py-2 border rounded-md"
            required
          />
        </div>
        <div class="mb-4">
          <label for="province" class="block mb-2">City Name:</label>
          <input
            type="text"
            id="cityName"
            name="cityName"
            class="w-full px-3 py-2 border rounded-md"
            required
          />
        </div>

        <div class="mb-4">
          <label for="date" class="block mb-2">Year:</label>
          <input
            type="date"
            id="date"
            name="date"
            class="w-full px-3 py-2 border rounded-md"
            required
          />
        </div>

        <div class="mb-4">
          <label for="developer" class="block mb-2">Developer:</label>
          <input
            type="text"
            id="developer"
            name="developer"
            class="w-full px-3 py-2 border rounded-md"
            required
          />
        </div>

        <div class="mb-4">
          <label for="executive" class="block mb-2">Executive:</label>
          <input
            type="text"
            id="executive"
            name="executive"
            class="w-full px-3 py-2 border rounded-md"
            required
          />
        </div>

        <div class="mb-4">
          <label for="govInvestment" class="block mb-2"
            >Government Investment:</label
          >
          <input
            type="number"
            id="govInvestment"
            name="government_investment"
            class="w-full px-3 py-2 border rounded-md"
            required
          />
        </div>

        <div class="mb-4">
          <label for="privateInvestment" class="block mb-2"
            >Private Investment:</label
          >
          <input
            type="number"
            id="privateInvestment"
            name="private_investment"
            class="w-full px-3 py-2 border rounded-md"
            required
          />
        </div>

        <div class="mb-4">
          <label for="username" class="block mb-2">Username:</label>
          <input
            type="text"
            id="username"
            name="username"
            class="w-full px-3 py-2 border rounded-md"
            required
          />
        </div>

        <div class="mb-4">
          <label for="password" class="block mb-2">Password:</label>
          <input
            type="password"
            id="password"
            name="password"
            class="w-full px-3 py-2 border rounded-md"
            required
          />
        </div>

        <div class="mb-4">
          <label for="password2" class="block mb-2">Confirm Password:</label>
          <input
            type="password"
            id="password2"
            name="password2"
            class="w-full px-3 py-2 border rounded-md"
            onchange="validateForm()"
            required
          />
          <p id="passwordError" class="text-red-500 mt-1 hidden">
            Passwords do not match.
          </p>
        </div>

        <div class="mb-4">
          <label for="LAT" class="block mb-2">Latitude:</label>
          <input
            type="number"
            id="LAT"
            name="LAT"
            class="w-full px-3 py-2 border rounded-md"
            required
          />
        </div>

        <div class="mb-4">
          <label for="LNG" class="block mb-2">Longitude:</label>
          <input
            type="number"
            id="LNG"
            name="LNG"
            class="w-full px-3 py-2 border rounded-md"
            required
          />
        </div>

        <!-- Add similar markup for other form fields -->
        <input type="hidden" name="_csrf" value="<%=csrfToken%>" id="token" />
        <div class="mb-4">
          <input
            type="submit"
            value="Submit"
            class="px-4 py-2 bg-blue-500 text-white rounded-md cursor-pointer"
            required
          />
        </div>
      </form>
    </div>
    <%- include('../include/ad-footer.ejs') %>
  </body>
  <script>
    function validateForm() {
      var password = document.getElementById("password").value;
      var password2 = document.getElementById("password2").value;
      var passwordError = document.getElementById("passwordError");

      if (password !== password2) {
        passwordError.classList.remove("hidden");
        return false;
      } else {
        passwordError.classList.add("hidden");
        return true;
      }
    }

    const urlParams = new URLSearchParams(window.location.search);
    const successParam = urlParams.get("success");
    if ("<%=success%>" === "true") {
      swal({
        title: "Success!",
        text: "Data saved successfully",
        icon: "success",
      }).then(function () {
        window.location.href = "/admin/city";
      });
    }
  </script>
</html>
